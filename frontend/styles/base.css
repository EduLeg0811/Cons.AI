/* ==========================================================================
   üé® BASE / TOKENS, RESET E TIPOGRAFIA
   --------------------------------------------------------------------------
   Defini√ß√µes globais: vari√°veis (:root), reset universal, tipografia padr√£o e cores de fundo/primeiro plano. Estas regras s√£o a base visual do projeto e s√£o reutilizadas por todos os m√≥dulos.
   ========================================================================== */

/* ===== DESIGN SYSTEM TOKENS ===== */
:root {
    /* Primary Colors */
    --primary-400: #38bdf8;
    --primary-500: #0ea5e9;
    --primary-600: #0284c7;
    --primary-700: #0266b3;
    --primary-800: #024d93;
    --primary-900: #02366d;


       
    /* Neutral Colors */
    --white: #ffffff;
    --gray-50: #fafafa;
    --gray-100: #f5f5f5;
    --gray-200: #e5e5e5;
    --gray-300: #d4d4d4;
    --gray-400: #a3a3a3;
    --gray-500: #737373;
    --gray-600: #525252;
    --gray-700: #404040;
    --gray-800: #262626;
    --gray-900: #171717;
    
    /* Semantic Colors */
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #06b6d4;
    
    /* Panel Colors */
    --search-primary: #0ea5e9;
    --search-secondary: #38bdf8;
    --bots-primary: #10b981;
    --bots-secondary: #34d399;
    
    /* Swapped palettes: Apps <-> Utils */
    --apps-primary: #7c3aed;
    --apps-secondary: #a855f7;
    --utils-primary: #7c3aed;
    --utils-secondary: #a855f7;
    --deep-primary: #e9e774;
    --deep-secondary: #eae9a9;
    --module-accent: var(--primary-500);
    --module-accent-secondary: var(--primary-600);
    --module-accent-contrast: #ffffff;
    
    
    /* Typography */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    
    /* Font Sizes */
    /* Ajuste global de tipografia: diminua estes tokens para reduzir fontes */
    --text-xxs: 0.7rem;
    --text-xs: 0.75rem;
    --text-sm: 0.8rem;
    --text-base: 0.9rem;
    --text-lg: 1rem;
    --text-xl: 1.125rem;
    --text-2xl: 1.35rem;
    --text-3xl: 1.7rem;
    --text-4xl: 2rem;
    
    /* Spacing (8px base) */
    --space-0: 0.1rem;
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-12: 3rem;
    --space-16: 4rem;
    
    /* Border Radius */
    --radius-sm: 0.375rem;
    --radius: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-3xl: 2rem;
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    
    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    /* Brand accents */
    --word-color: #2b579a; /* Microsoft Word brand-ish */
    /* Simple view accents */
    --simple-bg: #fffef7; /* soft warm light */
    /* Attention accent */
    --pulse-yellow: #f9f974; /* soft light yellow for subtle pulse */
}

/* ===== MODULE ACCENTS (per page theme) ===== */
/* Assign module accent color used by summary pills and panels */
.theme-search { --module-accent: var(--search-primary); --module-accent-secondary: var(--search-secondary, var(--search-primary)); }

/* ===== RESET & BASE STYLES ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 15px;
    line-height: 1.5;
}

body {
    font-family: var(--font-family);
    background-color: var(--gray-50);
    color: var(--gray-800);
    line-height: 1.6;
    font-size: var(--text-base);
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* ===== NAVBAR ===== */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--gray-200);
    z-index: 1000;
}

/* Ajuste do tamanho do icone do topo: diminua width/height/font-size aqui */
.navbar-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--primary-400) 0%, var(--primary-600) 100%);
    border-radius: var(--radius-xl);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
    font-size: var(--text-xl);
    box-shadow: var(--shadow-lg);
}

/* Theming per module to match index card identities */
.theme-search .navbar-icon {
    background: linear-gradient(135deg, var(--search-primary) 0%, var(--search-secondary) 100%);
}

body:not([class]) .navbar-text {
    flex-direction: row;
    gap: var(--space-2);
}

body:not([class]) .navbar-heading {
    align-items: center;
}

/* Homepage: push config button to the right so it groups with theme */
body:not([class]) .navbar-container .config-toggle {
    margin-left: auto;
}

/* Subtle pulsing background for the info-toggle on homepage */
@keyframes infoPulse {
    0%   { background-color: var(--gray-100); }
    12.5% { background-color: var(--gray-100); }
    25%  { background-color: var(--gray-100); }
    37.5% { background-color: var(--gray-100); }
    50%  { background-color: var(--gray-100); }
    62.5% { background-color: var(--pulse-yellow); }
    75%  { background-color: var(--pulse-yellow); }
    87.5% { background-color: var(--pulse-yellow); }
    100% { background-color: var(--pulse-yellow); }
}

/* Pause the pulse on hover/focus to avoid clash with hover styles */
.navbar-control-btn.info-toggle:hover,
.navbar-control-btn.info-toggle:focus-visible {
    animation: none;
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .navbar-control-btn.info-toggle { animation: none; }
}

/* Stop pulsing once user has interacted (set by JS) */
html[data-info-pulse="off"] .navbar-control-btn.info-toggle {
    animation: none;
}

/* ===== MAIN CONTENT ===== */
.main-content {
    margin-top: 70px;
    padding: var(--space-12) var(--space-6);
    background-color: var(--gray-100);
    min-height: calc(100vh - 70px);
}

/* Centered hero for index page */
.tools-section {
    max-width: 1400px;
    margin: 0 auto;
}

/* Espacos entre o containers maiores da pÔøΩgina principal */
/* ====================================================== */
.tools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
    gap: var(--space-8);
}

/* Espacos entre os containers da pÔøΩgina principal */
/* ====================================================== */
.tools-list {
    display: grid;
    gap: var(--space-4);
}

/* ===== TOOL PANELS ===== */
.tool-panel {
    position: relative;
    background: var(--white);
    border-radius: var(--space-8);
    padding: var(--space-8);
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--gray-200);
    transition: all var(--transition-normal);
}

/* Show panel descriptions only when info mode is on */
html:not([data-show-info="true"]) .tool-panel .panel-header .panel-info p { 
    display: none; 
    margin-left: 0;
    padding-left: 0;
    text-indent: 0;
}

/* Ajuste do tamanho dos icones dos modulos: altere width/height/font-size conforme necessario */
.tool-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
    font-size: var(--text-lg);
    flex-shrink: 0;
    transition: opacity var(--transition-fast), transform var(--transition-fast), width var(--transition-fast), height var(--transition-fast), margin var(--transition-fast);
}

/* Remova deslocamento lateral dos textos extras quando info toggle estiver ativo */
[data-show-info="true"] .tool-card .tool-info-extra {
    display: block;
    text-align: justify;
    margin-left: 0;
    padding-left: 0;
    width: 100%;
}

/* When showing info, smoothly hide module icons on homepage cards */
[data-show-info="true"] .tool-card { gap: var(--space-2); }

/* Center only title and short when info mode is on */
[data-show-info="true"] .tool-card .tool-info {
    align-items: center;         /* center children horizontally */
}

/* Centraliza titulo e subtitulo quando o painel de informacoes esta ativado */
[data-show-info="true"] .tool-card .tool-info h3,
[data-show-info="true"] .tool-card .tool-info > p {
    text-align: center;
    width: 100%;
}

/* ===== CONTAINER LAYOUTS ===== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-8) var(--space-6);
    margin-top: 70px;
}

/* ===== SEARCH CONTAINER ===== */
.search-container {
    max-width: 100%; /* span full container width */
    margin: 0 0 var(--space-8) 0;
}

/* Per-module color identity for inputs and buttons */
.theme-search .search-button { background: var(--search-primary); }

/* Ensure the magnifier/brain icon inside the button is white */
.theme-sem .search-button i { color: var(--white); }

/* ===== OPTIONS PANEL ===== */
.options-panel {
    background: var(--white);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow);
    border: 1px solid var(--gray-200);
    margin-bottom: var(--space-1);
    margin-top: var(--space-1);
    overflow: hidden;
}

/* ===== OPTIONS DROPDOWN (ICON TRIGGER) ===== */
.options-wrapper { position: relative; }

/* Subtle pulsing background for the info-toggle on homepage */
@keyframes configPulse {
    0%   { background-color: var(--gray-100); }
    12.5% { background-color: var(--gray-100); }
    25%  { background-color: var(--gray-100); }
    37.5% { background-color: var(--gray-100); }
    50%  { background-color: var(--gray-100); }
    62.5% { background-color: var(--pulse-yellow); }
    75%  { background-color: var(--pulse-yellow); }
    87.5% { background-color: var(--pulse-yellow); }
    100% { background-color: var(--pulse-yellow); }
}

html[data-config-pulse="off"] .options-trigger.pulsing { animation: none; }

/* Download icon button (Word) */
.download-trigger {
    width: 40px;
    height: 40px;
    background: var(--white);
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-full);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--gray-600);
    cursor: pointer;
    transition: all var(--transition-fast);
}

/* Reposition options panel as a dropdown anchored to the toolbar */
.options-wrapper .options-panel {
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    width: min(420px, 92vw);
    margin: 0; /* override default spacing when floating */
    display: none; /* hidden by default, toggled via .open */
    z-index: 1100;
}

/* Hide the internal header when using the icon trigger */
.options-wrapper .options-panel .options-header { display: none; }

/* Ensure options content is visible when panel opens */
.options-wrapper .options-panel .options-content { display: grid !important; }

/* Uniform smaller typography for all settings boxes */
.options-panel,
.options-panel .options-content,
.options-panel .option-group,
.options-panel label,
.options-panel input,
.options-panel select,
.options-panel textarea,
.options-panel .toggle-label,
.options-panel .book-checkbox label,
.options-panel .max-results label {
    font-size: var(--text-sm);
    font-family: var(--font-family);
}

/* ===== BOOK SELECTION ===== */
.book-checkboxes {
    display: flex;                 /* define como flex container */
    flex-direction: column;        /* organiza os itens em coluna (um abaixo do outro) */
    gap: 8px;                      /* espaÔøΩo vertical entre os pills */
    width: 100%;                   /* ocupa toda a largura dispon√≠vel do container pai */
    /* max-width: 200px; limita a largura mÔøΩxima da coluna (pode remover se quiser flex√≠vel) */
    margin: 0 auto;                /* centraliza horizontalmente a coluna na tela */
}

/* ====== Modo Escuro ====== */
body.dark .book-pill {
    background: #1f2937;           /* fundo cinza bem escuro */
    color: #e5e7eb;                /* texto cinza claro */
    border: 1px solid #374151;     /* borda escura */
    box-shadow: none;              /* sem sombra (opcional no dark) */
}

body.dark .book-pill:hover {
    background: #374151;           /* muda levemente no hover */
}

body.dark .book-pill.active {
    background: var(--module-accent, var(--primary-500));           /* ativa/selecionada usa cor do mÔøΩdulo */
    color: var(--module-accent-contrast, #fff);                     /* texto com contraste */
}

/* ===== TOGGLE SWITCHES ===== */
.toggle-option {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-4);
}

/* ===== CHAT INTERFACE ===== */
.chat-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-6);
    min-height: calc(100vh - 70px);
    display: flex;
    flex-direction: column;
}

/* Bot avatar styles removed: bot no longer renders an avatar */
.message-content {
    background: var(--white);
    border: 1px solid var(--gray-200);
    border-radius: var(--space-6);
    padding: var(--space-5) var(--space-6);
    box-shadow: var(--shadow-sm);


/* Ajuste do espacamento das linhas nos paragrafos renderizados via Markdown */
    /* ============================================================================== */
    line-height: 1.2;
}

/* RagBot bubbles: harmonized spacing and line-height */
.theme-bots .chat-message.user .message-content {
    padding: var(--space-4) var(--space-5);
    line-height: 1.4;
}

/* ==== ConsBOT: aproximar ‚ÄúSugest√µes de perguntas‚Äù da caixa de pesquisa ==== */
.theme-bots .search-row {
    margin-bottom: var(--space-2); /* antes: var(--space-6) */
  }

/* Center input vertically within RagBot composer and add gentle inner padding */
.theme-bots .chat-input-wrapper { align-items: center; }

/* Fix RagBot input at the top under the fixed navbar */
.theme-bots .chat-input-wrapper {
    position: sticky;
    top: calc(70px + var(--space-2));
    z-index: 500; /* below navbar(1000), above content */
    background: var(--white);
}

/* Removed with-avatar handling for bot: avatar not used */
/* 2) Keep input at the very bottom; let messages fill remaining space */
.theme-bots .chat-messages { max-height: none; }

/* Reduce vertical gap between messages in bots theme */
.theme-bots .chat-messages { gap: var(--space-3); }

/* Add horizontal breathing room for bot chat view */
.theme-bots .chat-messages {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
}

/* Bot message paragraphs: match markdown baseline */
.theme-bots .chat-message.bot .message-content .markdown-content p {
    margin: 0.6em 0;            /* consistent with .markdown-content p */
    line-height: 1.4;           /* baseline line-height */
    font-size: var(--text-base);
}

/* Ensure bot/user message containers share the same baseline line-height */
.theme-bots .chat-message.bot .message-content { line-height: 1.4; }

/* Chat input + send button in bots theme use green palette */
.theme-bots .chat-send-btn { background: var(--bots-primary); }

/* ===== BIBLIOMANCIA ===== */
.action-container {
    max-width: 600px;
    margin: 0 auto;
    padding: var(--space-8) var(--space-6);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

/* ===== RESULTS CONTAINER ===== */
/* ===== DISPLAY BOXES ===== */
.displaybox-container {
    background: var(--white);
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-xl);
    margin-bottom: var(--space-6);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
}

/* Simple renderer container uses a soft background that adapts to theme */
.displaybox-container.simple {
    background: var(--white);

}


/* Add horizontal separators between search results (lexical/semantic) */
.theme-search .group-content .displaybox-item {
    border-top: 1px solid var(--gray-200);
    padding-top: var(--space-3);
    margin-top: var(--space-3);
}

/* Same separators for SemÔøΩntica group */
.theme-sem .group-content .displaybox-item {
    border-top: 1px solid var(--gray-200);
    padding-top: var(--space-3);
    margin-top: var(--space-3);
}

/* Hide legacy non-collapsible group layout (replaced by badge rows) */
.displaybox-group { display: none; }

/* RagBot response box: add a bit more breathing room */
.displaybox-container.ragbot-box .displaybox-content {
    padding: var(--space-6);
}

/* Reference line for showSimple */
.simple-ref {
    text-align: right;
    color: var(--gray-500);
    font-size: var(--text-sm);
    font-style: italic;
    margin-top: 4px;
}

/* ===== METADATA BADGES ===== */
.metadata-container {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1);
    margin-top: var(--space-1);
}

/* ===== COLLAPSIBLE SUMMARIES ===== */
/* Full-width summary rows (used in search views) */
.summary-list {
    display: grid;
    gap: var(--space-2);
    margin: var(--space-4) 0;
}

/* Make a pill span the full row and feel like a badge header */
.pill.pill-row {
    width: 100%;
    justify-content: space-between;
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-xl);
    font-size: var(--text-base);
}

/* ===== LOADING STATES ===== */
.loading-container {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--space-8);
    margin: var(--space-4) 0;
    border-radius: var(--radius);
    background: rgba(255, 255, 255, 0.8);
}

/* removed unused .download-buttons wrapper styles */

/* ===== ERROR STATES ===== */
.error {
    color: var(--error);
    background-color: #fef2f2;
    padding: var(--space-4);
    border-radius: var(--radius);
    margin: var(--space-4) 0;
    border: 1px solid #fecaca;
}

/* ===== FOOTER ===== */
.footer {
    background: var(--gray-100);
    border-top: 1px solid var(--gray-200);
    padding: var(--space-8) var(--space-6);
    margin-top: var(--space-16);
}

/* ===== DARK MODE TOGGLE ===== */
.theme-toggle {
    transition: transform var(--transition-fast);
}

/* ===== CONFIG MODAL ===== */
.config-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.4); display: none; align-items: center; justify-content: center; z-index: 1000; }

/* Blur background when config modal or module options are open */
html[data-config-open="true"] .navbar,
html[data-config-open="true"] .main-content,
html[data-config-open="true"] .footer,
html[data-config-open="true"] .search-container,
html[data-config-open="true"] .search-input,
html[data-config-open="true"] .search-button,
html[data-module-config-open="true"] .navbar,
html[data-module-config-open="true"] .main-content,
html[data-module-config-open="true"] .footer,
html[data-module-config-open="true"] .search-container,
html[data-module-config-open="true"] .search-input,
html[data-module-config-open="true"] .search-button {
  filter: blur(3px);
  transition: filter var(--transition-normal);
  pointer-events: none; /* avoid clicks behind modal */
  user-select: none;    /* avoid text selection behind modal */
}

/* Narrow input for temperature number */
#cfg-temperature-num { width: 90px; }

/* Navbar title wrapper */
.navbar-center { display: flex; align-items: center; gap: 12px; justify-content: center; flex: 1; }

/* Small icon utility */
.icon-26 { 
    width: 26px;
    height: 26px;
    display: inline-block;   /* antes estava block */
    vertical-align: middle;  /* opcional: alinha com o texto */
}


/* Small icon Flag UK */
.icon-uk {
    width: 34px;
    height: 34px;
    display: inline-block;   /* antes estava block */
    vertical-align: middle;  /* opcional: alinha com o texto */
    margin-right: 10px;   /* aumenta o espa√ßo antes do badge */
}

/* Action hints under primary buttons */
.action-hint { margin-top: 24px; color: var(--gray-500); font-size: var(--text-base); }

/* Option group label modifier */
.option-group-label.center { text-align: justify; font-size: 0.8rem; font-weight: bold; margin-bottom: 0; }

/* Footer email color */
.footer-contact .email { color: var(--gray-700); }

/* ===== MARKDOWN CONTENT ===== */
.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
    margin: 0.8em 0 0.5em;
    line-height: 1.4;
    font-weight: 600;
}

/* /* /* Ajuste tamanho letra e espacamento das linhas nos paragrafos renderizados via Markdown */
/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/
/* Uniformizar listas e par√°grafos */
.markdown-content ul,
.markdown-content ol {
    margin: 0;
    padding-left: 1.2em; /* mant√©m leve recuo */
    line-height: 1.4;    /* igual ao <p> */
    font-size: var(--text-sm); /* igual ao <p> */
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    .tools-grid {
        grid-template-columns: 1fr;
        gap: var(--space-6);
    }
    
    .tool-panel {
        padding: var(--space-4);
    }
    
    /* removed unused .panel-icon responsive sizing */
    
    .navbar-container {
        padding: 0 var(--space-4);
    }
    
    /* Keep subtitle visible on small screens */
    .navbar-subtitle {
        display: block;
        font-size: var(--text-base);
    }
    
    .options-content {
        grid-template-columns: 1fr;
        gap: var(--space-6);
    }
    
    .book-checkboxes {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    }
    
    .chat-message {
        max-width: 95%;
    }
    
    .search-input-wrapper {
        padding: var(--space-2);
    }
    
    .search-button {
        width: 40px;
        height: 40px;
    }
}

/* ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

@media (max-width: 480px) {
    .main-content {
        padding: var(--space-8) var(--space-4);
    }
    
    .container {
        padding: var(--space-6) var(--space-4);
    }
    
    .navbar-brand {
        flex: 1;
        justify-content: center;
        margin: 0 auto;
    }
    
    /* Mobile: manter titulo centralizado sem bloquear botoes */
    .navbar-text {
        position: static;
        transform: none;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: auto;
        gap: var(--space-1);
    }

     /* Slightly smaller subtitle to fit phones */
     .navbar-subtitle {
        font-size: var(--text-xs);
        line-height: 1.2;
    }
    
    
    /* Ajuste mobile: titulos e descricoes das ferramentas */
    /* +++++++++++++++++++++++++++++++++++++++++++++++++++ */
    .tool-card .tool-info h3 {
        font-size: var(--text-sm);
        margin-top: var(--space-0);
        margin-bottom: var(--space-0);
    }
    .tool-card .tool-info p {
        font-size: var(--text-sm);
        margin-top: var(--space-0);
        margin-bottom: var(--space-0);
    }
    
    /* Removido bloco duplicado de .panel-header (mantido o bloco mais completo abaixo e mescladas as propriedades de tipografia)
       Motivo: havia duas defini√ß√µes consecutivas para .panel-header dentro do mesmo @media. Mantemos uma √∫nica regra consolidada. */








    .panel-info {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .panel-header {
        display: flex;
        gap: var(--space-2);
        margin-bottom: var(--space-3);
        margin-top: 0;
        justify-content: center;
        align-items: center;
        text-align: center;
        /* Propriedades de tipografia mescladas do bloco anterior (duplicado) */
        font-size: var(--text-sm);
        color: var(--gray-600);
        font-weight: 400;
        line-height: 1.2;
    }

    .panel-info h2 {
        font-size: var(--text-lg);
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: var(--space-0);
        margin-top: var(--space-0);
        text-align: center;
        align-self: center;
        justify-self: center;
    }
    @media (max-width: 768px) {
        .panel-info p {
          font-size: var(--text-xs);
          color: var(--gray-500);
          font-weight: 400;
          line-height: 1.2;
          margin: 0 0 8px 0;
          width: 100%;
          text-align: center;   /* manter lead centralizado no mobile */
          align-self: stretch;  /* ocupar largura total */
        }
      }
    
    .panel-info p .panel-desc-sm {
        display: block;     /* era inline-block */
        width: 100%;
        margin: 0;          /* zera margens */
        padding: 0;         /* zera padding */
        text-align: left;   /* mant√©m alinhado √† esquerda */
        font-size: var(--text-xs);
        line-height: 1;
        color: var(--gray-600);   
      }
    .panel-info p .panel-desc-lead {
            display: block;
            width: 100%;
            text-align: center;
            font-size: var(--text-sm);
            line-height: 1;
            font-style: italic;
    }
    
    .tool-card {
        flex-direction: column;
        text-align: justify;
        gap: var(--space-3);
    }

    .navbar-title-modules {
        font-size: var(--text-xl);
        font-weight: 800;
        color: var(--gray-900);
        align-self: center;
        text-align: center;
        margin-top: 2px;     /* Espaco acima */
        margin-bottom: 2px;  /* Espaco abaixo */
        line-height: 1.0;
    }
    .navbar-subtitle-modules {
        font-size: var(--text-sm);
        color: var(--gray-500);
        font-weight: 500;
        align-self: center;
        text-align: center; 
        line-height: 1.0;
    }

    
    /* Lexical: compact single-row badge on small screens */
    /* Ajusta o espacamento entre os cards para que sejam mais compactos */
    /* =================================================== */
    .tool-card.lexical-compact,
    /* Generic compact style for all module badges */
    .tool-card.compact {
        flex-direction: row !important;
        align-items: center;
        text-align: left;
        gap: var(--space-2);
        padding: var(--space-2) var(--space-4);
        min-height: 40px; /* tighter to fit more on phones */
    }
    .tool-card.lexical-compact .tool-icon,
    .tool-card.compact .tool-icon {
        width: 40px;
        height: 40px;
        font-size: 18px; /* compact yet readable */
        flex-shrink: 0;
    }
    .tool-card.lexical-compact .tool-info,
    .tool-card.compact .tool-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 2px; /* tighter spacing between title and text */
        white-space: normal;
    }
    .tool-card.lexical-compact .tool-info h3,
    .tool-card.compact .tool-info h3 {
        margin: 0;
        font-weight: 700;
        font-size: var(--text-sm);
        line-height: 1.2;
    }
    .tool-card.lexical-compact .tool-info p,
    .tool-card.compact .tool-info p {
        margin: 0;
        font-size: var(--text-sm);
        line-height: 1.2;
        color: var(--gray-600);
        display: block;            /* allow normal flow */
        -webkit-line-clamp: unset; /* no truncation on phones */
        line-clamp: unset;         /* standard property */
        -webkit-box-orient: initial;
        overflow: visible;
        text-overflow: clip;
        white-space: normal;       /* wrap lines normally */
    }
   
    /* removed unused .page-title responsive override */
    
    .chat-input-container {
        padding: var(--space-4);
    }
    
    .footer-content {
        flex-direction: column;
        text-align: justify;
    }
    /* When showing info on small screens, remove icon from layout
       and let the text use the full badge width with harmonious margins */
    [data-show-info="true"] .tool-card.compact {
        gap: 0;                 /* no leftover gutter from icon column */
        min-height: unset;      /* allow height to fit content */
    }
    [data-show-info="true"] .tool-card.compact .tool-icon {
        display: none;          /* fully remove icon from flow */
    }
    [data-show-info="true"] .tool-card.compact .tool-info {
        width: 100%;            /* span entire badge */
    }
    [data-show-info="true"] .tool-card.compact .tool-info-extra {
        margin-top: var(--space-2);
    }
    /* Tighter spacing between cards on small screens */
    .tools-list { gap: var(--space-2); }

    .displaybox-header {
        background: white;
        padding: var(--space-4) var(--space-6);
        border-bottom: 1px solid var(--gray-200);
        font-weight: 600;
        color: var(--gray-800);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    
    .metadata-badge {
        font-size: var(--text-xxs);
        line-height: 1;
        font-weight: 500;
        margin: 0;
    }

    
}

/* ===== UTILITY CLASSES ===== */
/* removed unused text align utilities */
.hidden { display: none; }

/* removed unused sr-only utility */
/* ===== FOCUS STYLES ===== */
*:focus-visible {
    outline: 2px solid var(--primary-500);
    outline-offset: 2px;
}

/* ===== OPTIONS PANEL OVERRIDES (force light inputs/labels) ===== */
.options-panel .max-results label,
.options-panel .toggle-label,
.option-column .toggle-label {
  color: var(--gray-800) !important;
}

/* Coluna √∫nica */
/*==============================================================================*/
.option-column {
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
    max-width: none; /* largura mÔøΩxima agradÔøΩvel */
  }

/* ===== HOMEPAGE INFO TOGGLE (expand descriptions) ===== */
[data-show-info="true"] .tool-card.compact .tool-info p {
  display: block;
  -webkit-line-clamp: unset;
  line-clamp: unset;
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
}

/* Linha base */
.row {
display: flex;
align-items: center;
gap: 6px;
margin-bottom: 8px; 
}

/* Max Results */
.max-results label {
font-size: var(--text-sm);
font-weight: 500;
color: #000; /* ensure black label */
white-space: nowrap;
}

/* Toggle moderno */
.switch {
position: relative;
display: inline-block;
width: 36px;
height: 20px;
}

/* Linha dos bot√µes */
.button-row {
    display: flex;
    justify-content: center;
    gap: 12px; /* espa√ßo entre os bot√µes */
    margin-top: 12px;
  }

/* Bot√£o salvar */
  .save-btn {
width: 40px;
height: 40px;
border-radius: 50%;
border: none;
background: var(--module-accent, var(--primary-500));
color: var(--module-accent-contrast, #fff);
font-size: 18px;
cursor: pointer;
transition: background var(--transition-fast);
}

/* Transient visual feedback for save action (500ms) */
.save-btn.saving {
    background: var(--module-accent-secondary, var(--primary-700));
    color: var(--module-accent-contrast, #fff);
  }


/* Theme-specific identity for Save button handled via module accent variables */
  /* Module-themed toggle ON colors (override) */
  .theme-search .switch input:checked + .slider,
  .theme-sem .switch input:checked + .slider,
  .theme-apps .switch input:checked + .slider {
    background-color: var(--module-accent, var(--primary-500));
  }

/* Removed legacy .toggle-switch overrides (unused) */
  
/* ===== NAVBAR LAYOUT OVERRIDES ===== */
/* On module pages, keep separate left/right control groups and avoid full-width controls */
.theme-search .navbar .navbar-controls,
.theme-bots .navbar .navbar-controls,
.theme-apps .navbar .navbar-controls,
.theme-sem .navbar .navbar-controls {
  width: auto !important;
  justify-content: initial !important;
}

/* Homepage (no body class): stretch controls to edges */
body:not([class]) .navbar .navbar-controls {
  width: auto;
  justify-content: initial;
  align-items: center;
}

/* Revert homepage navbar button layout to original */
body:not([class]) .navbar .navbar-container { justify-content: space-between !important; }

/* Small edge spacing for buttons to match navbar rhythm */
.navbar .navbar-controls > *:first-child { margin-left: var(--space-2); }

.navbar .navbar-controls > *:last-child  { margin-right: var(--space-2); }

/* Remover sombras laterais de caixas de texto e badges */
input,
textarea,
select {
  box-shadow: none !important;
  filter: none !important;
}

/* Ajuste especifico: remove recuo residual do card "Definologia de Verbetes" quando info esta visivel */
[data-show-info="true"] a[href="index_lexverb.html"].tool-card .tool-info {
    align-items: stretch;
}

[data-show-info="true"] a[href="index_lexverb.html"].tool-card .tool-info > p,
[data-show-info="true"] a[href="index_lexverb.html"].tool-card .tool-info-extra {
    margin-left: 0;
    padding-left: 0;
    width: 100%;
}

/* Container principal */
#initial-quests {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 6px;
  }

/* T√≠tulo */
  .initial-quests-title {
    font-size: var(--text-base);
    color: var(--gray-600);
    font-style: italic;
    font-weight: bold;
    margin-bottom: 2px;
  }

/* Linha de badges */
  .initial-quests-row {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

/* Estilo dos botoes ("pills") */
  .initial-quests-badge {
    border: 1px solid var(--gray-300);
    background: #f0faf1; /* verde clarinho */
    color: #000000;
    text-align: left;
    padding: 6px 10px;
    border-radius: 8px;
    transition: background 0.2s ease-in-out;
    cursor: pointer;
  }

/* Hover para desktop */
  .initial-quests-badge:hover {
    background: #d0edd6; /* verde um pouco mais escuro */
  }

/* Active/Focus para mobile */
  .initial-quests-badge:active,
  .initial-quests-badge:focus {
    background: #d0edd6;
    outline: none;
  }

/* Container das linhas */
.summary-list-deepdive {
    display: flex;
    flex-direction: column;
    gap: 2px;           /* espaÔøΩamento mÔøΩnimo entre os pills */
    max-width: 400px;
    width: 100%; /* pills expandem atÔøΩ a borda do container */
    padding: 4px;
  }

/* Cada pill */
  .pill-row-deepdive {
    display: flex;
    justify-content: space-between;
    align-items: left;
    padding: 4px 8px;   /* ?? padding menor -> reduz altura */
    border-radius: 9999px;
    background: #ffffff;
    color: #000000;
    font-size: var(--text-base);
    font-weight: normal;
    margin: 1px 0;      /* ?? quase sem margem vertical */
  }

/* -------- DARK MODE -------- */
  body.dark .pill-row-deepdive {
    background: #1f2937;
    color: #f3f4f6;
  }

/* -------- RESPONSIVO -------- */
  @media (max-width: 480px) {
    .summary-list-deepdive {
      max-width: 100%;
      padding: 6px;
      gap: 1px;   /* ?? ainda mais compacto no mobile */
    }
    .pill-row-deepdive {
      font-size: var(--text-xs);
      padding: 3px 6px; /* ?? ainda menor no mobile */
    }
  }

/* Cor Highlight */
.hl { background: #fff59d; padding: 0 1px; border-radius: 2px; }

/* ===============================
   Ajuste tipografia par√°grafos m√≥dulos ‚Äî Mobile 480px
   =============================== */
   @media (max-width: 480px) {
    /* Par√°grafos renderizados nos resultados de busca */
    .displaybox-text .markdown-content p,
    .displaybox-text .markdown-content li,
    .displaybox-text .markdown-content ul,
    .displaybox-text .markdown-content ol {
      font-size: var(--text-xs);    /* var-xs */
      line-height: 1.2;
    }
  
    /* T√≠tulos dentro dos resultados tamb√©m um pouco menores */
    .displaybox-text .markdown-content h1,
    .displaybox-text .markdown-content h2,
    .displaybox-text .markdown-content h3 {
      font-size: var(--text-sm);
      line-height: 1.2;
    }
  }

/* ===== Markdown tables: tipografia e layout consistentes ===== */
.markdown-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.8em 0;             /* similar aos par√°grafos */
    font-size: var(--text-sm);   /* igual ao texto comum */
    line-height: 1.4;
  }

/* Tabelas menores dentro de cards compactos */
.displaybox-text .markdown-content table,
.displaybox-text .markdown-content th,
.displaybox-text .markdown-content td {
  font-size: var(--text-xs);
  line-height: 1.2;
}



